# This file may be automatically generated by an installation program.

# By default, Docker uses a loopback-mounted sparse file in
# /var/lib/docker.  The loopback makes it slower, and there are some
# restrictive defaults, such as 100GB max storage.

# If your installation did not set a custom storage for Docker, you
# may do it below.

# Example: Use a custom pair of raw logical volumes (one for metadata,
# one for data).
# DOCKER_STORAGE_OPTIONS = --storage-opt dm.metadatadev=/dev/mylogvol/my-docker-metadata --storage-opt dm.datadev=/dev/mylogvol/my-docker-data

<% if scope.lookupvar('third_party::docker::config::docker_storage_type') == "loopback" then -%>
DOCKER_STORAGE_OPTIONS = --storage-opt dm.basesize=<%= scope.lookupvar('third_party::docker::config::docker_dm_basesize') %>
<% elsif scope.lookupvar('third_party::docker::config::docker_storage_type') == "overlayfs" -%>
DOCKER_STORAGE_OPTIONS= -s overlay
<% elsif scope.lookupvar('third_party::docker::config::docker_storage_type') == "btrfs" -%>
DOCKER_STORAGE_OPTIONS= -s btrfs
<% elsif scope.lookupvar('third_party::docker::config::docker_storage_type') == "directlvm" -%>
DOCKER_STORAGE_OPTIONS= --storage-driver=devicemapper --storage-opt dm.basesize=<%= scope.lookupvar('third_party::docker::config::docker_dm_basesize') %> --storage-opt dm.datadev=<%= scope.lookupvar('third_party::docker::config::docker_dm_datadev') %> --storage-opt dm.metadatadev=<%= scope.lookupvar('third_party::docker::config::docker_dm_metadatadev') %>
<% end -%>
